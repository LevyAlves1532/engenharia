function validateForm(e,a,r){let t=!0;const n=new FormData(e);return a.forEach(e=>{var a=document.querySelector(`input[name="${e}"]`)||document.querySelector(`select[name="${e}"]`)||document.querySelector(`textarea[name="${e}"]`),e=r[e](n.get(e),a);e.error&&(t=!1),showError(a,e.label)}),t}function showError(e,a){e=("password"===e.type?$(e).parent():$(e)).parent().find(".error");a?e.html(`<p class="text-danger mt-2">${a}</p>`):e.html("")}function clearInputs(e,a,t){const n=new FormData(e);let o=!0;return a.forEach(e=>{var a,r=n.get(e);"string"==typeof r&&(""===r.trim()||"null"===r.trim())||"object"==typeof r&&""===r.name&&0===r.size?n.delete(e):(a=document.querySelector(`input[name="${e}"]`)||document.querySelector(`select[name="${e}"]`)||document.querySelector(`textarea[name="${e}"]`),(e=t[e](r,a)).error&&(o=!1),showError(a,e.label))}),o?n:null}function convertInBRL(e){return e.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}$(function(){$("#button-menu").on("click",function(e){var a="Header--active",r=$(".Header");r.hasClass(a)?r.removeClass(a):r.addClass(a)}),$(".HeaderMenuList li").each(function(e,a){var r=window.location.href.replace(BASE_URL,""),t=$(a).find("a").attr("href").replace(BASE_URL,""),n="active-link-menu";(0!==r.length&&-1<r.indexOf(t)||0===r.length&&0===t.length)&&($(".HeaderMenuList li").removeClass(n),$(a).addClass(n))}),$(".button-cart-open").on("click",function(){var e=$(".HeaderCart"),a="HeaderCart--active";e.hasClass(a)?e.removeClass(a):e.addClass(a)}),$(".button-cart-open").parent().on("mouseleave",function(){$(".HeaderCart").removeClass("HeaderCart--active")}),$(".HeaderCartIcon__close").on("click",function(){$(".HeaderCart").removeClass("HeaderCart--active")}),$('input[type="password"]').parent().parent().find("button").on("click",function(){var e=$(this).parent().find("input"),a=$(this).find("svg"),r="password"===e.attr("type");e.attr("type",r?"text":"password"),$(a[0]).css("display",r?"none":"block"),$(a[1]).css("display",r?"block":"none")}),$("#open-menu-admin").on("click",function(){$(".AdminTemplate__body_menu-bar").addClass("AdminTemplate__body_menu-bar--active")}),$(".AdminTemplate__body_menu-bar").on("click",function(e){var a="AdminTemplate__body_menu-bar--active";$(e.target).hasClass(a)&&$(e.target).removeClass(a)})}),$(function(){$(".ContactFaqItem .ContactFaqItem__button").on("click",function(){var e=$(this).parent(),a="ContactFaqItem--active";e.hasClass(a)?(e.removeClass(a),e.find(".ContactFaqItem__content").css("height","0")):($(".ContactFaqItem").removeClass(a),$(".ContactFaqItem__content").css("height","0"),e.addClass(a),e.find(".ContactFaqItem__content").css("height",e.find(".ContactFaqItem__content_body").height()+40+"px"))})}),$(function(){}),$(function(){$("#tab-box-my-profile .MyProfileTabBox__tabs button").on("click",function(){var e=$(this).attr("data-tab"),a="active-tab";$("#tab-box-my-profile .MyProfileTabBox__tabs button").removeClass(a),$("#tab-box-my-profile .MyProfileTabBox__content_item").removeClass(a),$(`#tab-box-my-profile div[data-tab-name="${e}"]`).addClass(a),$(this).addClass(a)})}),$(function(){$("#slick-portfolio-feedbacks").slick({infinity:!0,dots:!0,slidesToShow:3,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3,responsive:[{breakpoint:1024,settings:{slidesToShow:2}},{breakpoint:450,settings:{slidesToShow:1}}]})}),$(function(){$("#slick-product-images").slick({infinite:!1,slidesToShow:1,slidesToScroll:1,arrows:!0}),$("#dots-product").slick({slidesToShow:5,slidesToScroll:1,infinite:!1,asNavFor:"#slick-product-images",focusOnSelect:!0})}),$(function(){$("#button-filter-projects").on("click",function(){var e=$("#projects-filter-area"),a="ProjectsContent__filter--active",r="Button--active-filter";e.hasClass(a)?(e.removeClass(a),$(this).removeClass(r)):(e.addClass(a),$(this).addClass(r))}),$("#projects-filter-area").on("mouseleave",function(){$(this).removeClass("ProjectsContent__filter--active"),$("#button-filter-projects").removeClass("Button--active-filter")})}),$(function(){if(-1<window.location.href.indexOf("/admin/feedbacks/form")){ClassicEditor.create($("#short_description")[0]).catch(e=>{console.error(e)});const r=["cover","name","assessment","short_description"],t={error:!1,label:""},n={cover:(e="")=>{var a={...t};return 25e5<e.size&&(a.error=!0,a.label="A imagem tem que ser abaixo de 2,5mb!"),["image/png","image/jpg","image/jpeg"].includes(e.type)||(a.error=!0,a.label="O arquivo tem que ser uma imagem (png, jpg ou jpeg)!"),""===e.name&&(a.error=!0,a.label="Selecione um arquivo!"),a},name:(e="")=>{var a={...t};return(e.length<3||100<e.length)&&(a.error=!0,a.label="Nome precisa ter entre 3 a 100 caracteres!"),a},assessment:(e="")=>{var a={...t};return!isNaN(e)&&(5<parseInt(e)||parseInt(e)<0)&&(a.error=!0,a.label="Avaliação precisa ser entre 0 e 5!"),isNaN(e)&&(a.error=!0,a.label="Avaliação precisa ser um número!"),""===e.trim()&&(a.error=!0,a.label="Avaliação precisa ser preenchido!"),a},short_description:(e="")=>{var a={...t};return""===e.trim()&&(a.error=!0,a.label="Pequena descrição precisa ser preenchido!"),a}};$("#feedbacks-form").on("submit",function(e){e.preventDefault();const a="Adicionar"===$(".AdmHeaderPage__title h1").html();a&&!validateForm(this,r,n)||(e=a?new FormData(this):clearInputs(this,r,n))&&$.ajax({url:BASE_URL+("admin/feedbacks/"+(a?"add":"edit")),type:"post",data:e,contentType:!1,processData:!1,dataType:"json",success:function(e){e.status&&a?window.location.href=BASE_URL+"admin/feedbacks":e.status&&e.return.path&&$("#text-cover").html(e.return.path)}})})}}),$(function(){var e=window.location.href;-1<e.indexOf("/admin/feedbacks")&&-1===e.indexOf("/admin/feedbacks/form")&&$("#feedbacks-table").DataTable({ajax:BASE_URL+"admin/feedbacks/list",processing:!0,serverSide:!0,language:{url:"https://cdn.datatables.net/plug-ins/2.0.7/i18n/pt-BR.json"}})}),$(function(){var e=window.location.href;if(-1<e.indexOf("admin/account")&&-1===e.indexOf("admin/account/sign_in")){const a=["name","email","password"],r={error:!1,label:""},t={name:(e="")=>{var a={...r};return(e.length<3||100<e.length)&&(a.error=!0,a.label="Nome precisa ter entre 3 a 100 caracteres!"),a},email:(e="")=>{var a={...r};return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)||(a.error=!0,a.label="E-mail inválido!"),0===e.trim().length&&(a.error=!0,a.label="Preencha o campo de email!"),a},password:(e="")=>{var a={...r};return(e.length<8||12<e.length)&&(a.error=!0,a.label="Senha precisa ter entre 8 a 12 caracteres!"),a}};$("#my-profile-form").on("submit",function(e){e.preventDefault();e=clearInputs(this,a,t);console.log(e),$.ajax({url:BASE_URL+"admin/users/edit",type:"post",data:e,contentType:!1,processData:!1})})}}),$(function(){if(-1<window.location.href.indexOf("/admin/posts_instagram/form")){const r=["cover","link"],t={error:!1,label:""},n={cover:(e="")=>{var a={...t};return 25e5<e.size&&(a.error=!0,a.label="A imagem tem que ser abaixo de 2,5mb!"),["image/png","image/jpg","image/jpeg"].includes(e.type)||(a.error=!0,a.label="O arquivo tem que ser uma imagem (png, jpg ou jpeg)!"),""===e.name&&(a.error=!0,a.label="Selecione um arquivo!"),a},link:(e="")=>{var a={...t};return(e.length<3||255<e.length)&&(a.error=!0,a.label="Nome precisa ter entre 3 a 255 caracteres!"),a}};$("#posts-instagram-form").on("submit",function(e){e.preventDefault();const a="Adicionar"===$(".AdmHeaderPage__title h1").html();a&&!validateForm(this,r,n)||(e=a?new FormData(this):clearInputs(this,r,n))&&$.ajax({url:BASE_URL+("admin/posts_instagram/"+(a?"add":"edit")),type:"post",data:e,contentType:!1,processData:!1,dataType:"json",success:function(e){e.status&&a?window.location.href=BASE_URL+"admin/posts_instagram":e.status&&e.return.path&&$(".form-text").html(e.return.path)}})})}}),$(function(){var e=window.location.href;-1<e.indexOf("/admin/posts_instagram")&&-1===e.indexOf("/admin/posts_instagram/form")&&$("#posts-instagram-table").DataTable({ajax:BASE_URL+"admin/posts_instagram/list",processing:!0,serverSide:!0,language:{url:"https://cdn.datatables.net/plug-ins/2.0.7/i18n/pt-BR.json"}})}),$(function(){if(-1<window.location.href.indexOf("/admin/projects/form")){ClassicEditor.create($("#description")[0]).catch(e=>{console.error(e)});const n=["cover","carousel[]","title","price","discount_percent","short_description","description","square_meters","bathrooms","bedrooms","garages","files_projects[]"],o={error:!1,label:""},a=(e="",a)=>{var r={...o};return isNaN(e.replace(",","."))||0!==parseInt(e.replace(",","."))||(r.error=!0,r.label=a+" precisa ser maior que 0!"),isNaN(e.replace(",","."))&&(r.error=!0,r.label=a+" precisa ser um número!"),""===e.trim()&&(r.error=!0,r.label=a+" precisa ser preenchido!"),r},i={cover:(e="")=>{var a={...o};return 25e5<e.size&&(a.error=!0,a.label="A imagem tem que ser abaixo de 2,5mb!"),["image/png","image/jpg","image/jpeg"].includes(e.type)||(a.error=!0,a.label="O arquivo tem que ser uma imagem (png, jpg ou jpeg)!"),""===e.name&&(a.error=!0,a.label="Selecione um arquivo!"),a},"carousel[]":(e="",a)=>{var r={...o},t=["image/png","image/jpg","image/jpeg"];for(let e=0;e<a.files.length;e++){var n=a.files[e];25e5<n.size&&(r.error=!0,r.label="As imagens tem que ser abaixo de 2,5mb!"),t.includes(n.type)||(r.error=!0,r.label="Uma das imagens é inválido (png, jpg ou jpeg)!")}return""===e.name&&(r.error=!0,r.label="Selecione um arquivo!"),r},title:(e="")=>{var a={...o};return(e.length<3||100<e.length)&&(a.error=!0,a.label="Título precisa ter entre 3 a 100 caracteres!"),a},price:(e="")=>{var a={...o};return isNaN(e.replace(",","."))&&(a.error=!0,a.label="Preço precisa ser um número!"),""===e.trim()&&(a.error=!0,a.label="Preço precisa ser preenchido!"),a},discount_percent:(e="")=>{var a={...o};return!isNaN(e.replace(",","."))&&(parseInt(e.replace(",","."))<0||100<parseInt(e.replace(",",".")))&&(a.error=!0,a.label="Desconto precisa estar entre 0 e 100!"),isNaN(e.replace(",","."))&&(a.error=!0,a.label="Desconto precisa ser um número!"),""===e.trim()&&(a.error=!0,a.label="Desconto precisa ser preenchido!"),a},short_description:(e="")=>{var a={...o};return""===e.trim()&&(a.error=!0,a.label="Pequena descrição precisa ser preenchido!"),a},description:(e="")=>{var a={...o};return""===e.trim()&&(a.error=!0,a.label="Descrição precisa ser preenchido!"),a},square_meters:(e="")=>a(e,"Metros Quadrados"),bathrooms:(e="")=>a(e,"Banheiros"),bedrooms:(e="")=>a(e,"Quartos"),garages:(e="")=>a(e,"Garagens"),"files_projects[]":(e="",a)=>{var r={...o},t=["image/png","image/jpg","image/jpeg","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/pdf","application/x-zip-compressed"];for(let e=0;e<a.files.length;e++){var n=a.files[e];5e6<n.size&&(r.error=!0,r.label="As imagens tem que ser abaixo de 5mb!"),t.includes(n.type)||(r.error=!0,r.label="Uma das imagens é inválido (png, jpg, jpeg, pdf, document office ou zip)!")}return""===e.name&&(r.error=!0,r.label="Selecione um arquivo!"),r}};function e(){var e=$("#is_discount")[0].checked,a=parseInt($("#price").val().replace(",",".")),r=parseInt($("#discount_percent").val().replace(",","."));a&&r&&e?(a-=e=a*r/100,$(".discount-show").text("Total do desconto R$"+convertInBRL(e)),$(".total-value-show").text("Valor total R$"+convertInBRL(a))):($(".total-value-show").text("Valor total R$0,00"),$(".discount-show").text("Total do desconto R$0,00"))}function t(e,a,r){var t=document.createElement("div");return t.classList.add("form-text","d-flex","justify-content-between"),t.innerHTML=`
        ${e}
        <a href="${BASE_URL}admin/projects/delete_carousel/${btoa(r)}?ip=${a}" class="text-danger">x</a>
      `,t}$("#projects-form").on("submit",function(e){e.preventDefault();const a="Adicionar"===$(".AdmHeaderPage__title h1").html();if(!a||validateForm(this,n,i)){const r=a?new FormData(this):clearInputs(this,n,i);r&&$.ajax({url:BASE_URL+("admin/projects/"+(a?"add":"edit")),type:"post",data:r,contentType:!1,processData:!1,dataType:"json",success:function(e){e.status&&a?window.location.href=BASE_URL+"admin/projects":e.status&&!a&&(e.return.project.carousel&&e.return.project.carousel.forEach(e=>{e=t(e.file,r.get("ip"),e.id);$("#files-carousel")[0].appendChild(e)}),e.return.project.files)&&e.return.project.files.forEach(e=>{e=t(e.file,r.get("ip"),e.id);$("#files-projects")[0].appendChild(e)})}})}}),$("#price").on("blur",e),$("#discount_percent").on("blur",e),$("#is_discount").on("blur",e)}}),$(function(){var e=window.location.href;-1<e.indexOf("/admin/projects")&&-1===e.indexOf("/admin/projects/form")&&$("#projects-table").DataTable({ajax:BASE_URL+"admin/projects/list",processing:!0,serverSide:!0,language:{url:"https://cdn.datatables.net/plug-ins/2.0.7/i18n/pt-BR.json"}})}),$(function(){if(-1<window.location.href.indexOf("/admin/account/sign_in")){const a=["email","password"],r={error:!1,label:""},t={email:(e="")=>{var a={...r};return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)||(a.error=!0,a.label="E-mail inválido!"),0===e.trim().length&&(a.error=!0,a.label="Preencha o campo de email!"),a},password:(e="")=>{var a={...r};return(e.length<8||12<e.length)&&(a.error=!0,a.label="Senha precisa ter entre 8 a 12 caracteres!"),a}};$("#sign-in-form").on("submit",function(e){e.preventDefault(),validateForm(this,a,t)&&(e=new FormData(this),$.ajax({url:BASE_URL+"admin/account/login",type:"post",data:e,contentType:!1,processData:!1,dataType:"json",success:function(e){e.status&&(window.location.href=BASE_URL+"admin/")}}))})}}),$(function(){if(-1<window.location.href.indexOf("/admin/team/form")){const r=["photo","name","profession"],t={error:!1,label:""},n={photo:(e="")=>{var a={...t};return 25e5<e.size&&(a.error=!0,a.label="A imagem tem que ser abaixo de 2,5mb!"),["image/png","image/jpg","image/jpeg"].includes(e.type)||(a.error=!0,a.label="O arquivo tem que ser uma imagem (png, jpg ou jpeg)!"),""===e.name&&(a.error=!0,a.label="Selecione um arquivo!"),a},name:(e="")=>{var a={...t};return(e.length<3||100<e.length)&&(a.error=!0,a.label="Nome precisa ter entre 3 a 100 caracteres!"),a},profession:(e="")=>{var a={...t};return(e.length<3||100<e.length)&&(a.error=!0,a.label="Profissão precisa ter entre 3 a 100 caracteres!"),a}};$("#team-form").on("submit",function(e){e.preventDefault();const a="Adicionar"===$(".AdmHeaderPage__title h1").html();a&&!validateForm(this,r,n)||(e=a?new FormData(this):clearInputs(this,r,n))&&$.ajax({url:BASE_URL+("admin/team/"+(a?"add":"edit")),type:"post",data:e,contentType:!1,processData:!1,dataType:"json",success:function(e){e.status&&a?window.location.href=BASE_URL+"admin/team":e.status&&e.return.path&&$(".form-text").html(e.return.path)}})})}}),$(function(){var e=window.location.href;-1<e.indexOf("/admin/team")&&-1===e.indexOf("/admin/team/form")&&$("#team-table").DataTable({ajax:BASE_URL+"admin/team/list",processing:!0,serverSide:!0,language:{url:"https://cdn.datatables.net/plug-ins/2.0.7/i18n/pt-BR.json"}})}),$(function(){if(-1<window.location.href.indexOf("/admin/users/form")){const r=["name","email","password","user_type"],t={error:!1,label:""},n={name:(e="")=>{var a={...t};return(e.length<3||100<e.length)&&(a.error=!0,a.label="Nome precisa ter entre 3 a 100 caracteres!"),a},email:(e="")=>{var a={...t};return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)||(a.error=!0,a.label="E-mail inválido!"),0===e.trim().length&&(a.error=!0,a.label="Preencha o campo de email!"),a},password:(e="")=>{var a={...t};return(e.length<8||12<e.length)&&(a.error=!0,a.label="Senha precisa ter entre 8 a 12 caracteres!"),a},user_type:(e="")=>{var a={...t};return"null"===e&&(a.error=!0,a.label="Informe o tipo de usuário!"),a}};$("#users-form").on("submit",function(e){e.preventDefault();const a="Adicionar"===$(".AdmHeaderPage__title h1").html();a&&!validateForm(this,r,n)||(e=a?new FormData(this):clearInputs(this,r,n))&&$.ajax({url:BASE_URL+("admin/users/"+(a?"add":"edit")),type:"post",data:e,contentType:!1,processData:!1,dataType:"json",success:function(e){e.status&&a&&(window.location.href=BASE_URL+"admin/users")}})})}}),$(function(){var e=window.location.href;-1<e.indexOf("/admin/users")&&-1===e.indexOf("/admin/users/form")&&$("#users-table").DataTable({ajax:BASE_URL+"admin/users/list",processing:!0,serverSide:!0,language:{url:"https://cdn.datatables.net/plug-ins/2.0.7/i18n/pt-BR.json"}})});