const GO_CHECKOUT_STORAGE="@engenharia::go_checkout";function validateForm(e,t,a,o=null){let n=!0;const i=new FormData(e);return t.forEach((e,t)=>{var r=document.querySelector(`input[name="${e}"]`)||document.querySelector(`select[name="${e}"]`)||document.querySelector(`textarea[name="${e}"]`),e=a[e](i.get(e),r);e.error&&(n=!1),o?showError(r,e.label,o[t]):showError(r,e.label)}),n}function showError(e,t,r=null){let a;a=r?$("."+r):("password"===e.type?$(e).parent():$(e)).parent().find(".error"),t?a.html(`<p class="text-danger mt-2">${t}</p>`):a.html("")}function clearInputs(e,t,o,n=null){const i=new FormData(e);let s=!0;return t.forEach((e,t)=>{var r,a=i.get(e);"string"==typeof a&&(""===a.trim()||"null"===a.trim())||"object"==typeof a&&""===a.name&&0===a.size?i.delete(e):(r=document.querySelector(`input[name="${e}"]`)||document.querySelector(`select[name="${e}"]`)||document.querySelector(`textarea[name="${e}"]`),(e=o[e](a,r)).error&&(s=!1),n?showError(r,e.label,n[t]):showError(r,e.label))}),s?i:null}function convertInBRL(e){return e.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}$(function(){$("#button-menu").on("click",function(e){var t="Header--active",r=$(".Header");r.hasClass(t)?r.removeClass(t):r.addClass(t)}),$(".HeaderMenuList li").each(function(e,t){var r=window.location.href.replace(BASE_URL,""),a=$(t).find("a").attr("href").replace(BASE_URL,""),o="active-link-menu";(0!==r.length&&""!==a&&-1<r.indexOf(a)||0===r.length&&0===a.length)&&($(".HeaderMenuList li").removeClass(o),$(t).addClass(o))}),$(".button-cart-open").on("click",function(){var e=$(".HeaderCart"),t="HeaderCart--active";e.hasClass(t)?e.removeClass(t):e.addClass(t)}),$(".button-cart-open").parent().on("mouseleave",function(){$(".HeaderCart").removeClass("HeaderCart--active")}),$(".HeaderCartIcon__close").on("click",function(){$(".HeaderCart").removeClass("HeaderCart--active")}),$('input[type="password"]').parent().parent().find("button").on("click",function(){var e=$(this).parent().find("input"),t=$(this).find("svg"),r="password"===e.attr("type");e.attr("type",r?"text":"password"),$(t[0]).css("display",r?"none":"block"),$(t[1]).css("display",r?"block":"none")}),$("#open-menu-admin").on("click",function(){$(".AdminTemplate__body_menu-bar").addClass("AdminTemplate__body_menu-bar--active")}),$(".AdminTemplate__body_menu-bar").on("click",function(e){var t="AdminTemplate__body_menu-bar--active";$(e.target).hasClass(t)&&$(e.target).removeClass(t)})});class Cart{constructor(){this.cart=[],this.total_value=0,this.DEFAULT_CART_NAME_LOCAL="@engenharia::cart"}getJSONCart(){return JSON.stringify(this.cart)}clearCart(){this.cart=[],this.saveStorage()}init(){this.loadStorage(),this.saveStorage()}loadStorage(){var e=localStorage.getItem(this.DEFAULT_CART_NAME_LOCAL);e&&(e=JSON.parse(e),this.cart=e)}saveStorage(){this.calculatePrices(),this.renderTotalPrice(),this.renderProject(),localStorage.setItem(this.DEFAULT_CART_NAME_LOCAL,JSON.stringify(this.cart))}pushProject(t){this.cart.find(e=>e.id===t.id)||(this.cart.push(t),this.saveStorage())}removeProject(t){this.cart=this.cart.filter(e=>e.id!==t.id),this.saveStorage()}calculatePrices(){let t=0;for(let e=0;e<this.cart.length;e++){var r,a=this.cart[e];a.is_discount?(r=a.price*a.discount_percent/100,r=a.price-r,t+=r):t+=a.price}this.total_value=t}renderTotalPrice(){$(".HeaderCartPrice span").text("R$ "+convertInBRL(this.total_value)),$(".button-cart-open span").text(this.cart.length),$(".CartTitle span").text(this.cart.length),$(".CartInfo__price span").text("R$ "+convertInBRL(this.total_value))}renderProject(){if($(".HeaderCartList").html(""),$(".CartList").html(""),0<this.cart.length)for(let e=0;e<this.cart.length;e++){const a=this.cart[e];var t;$(".HeaderCartList").each((e,t)=>{var r=this.cartItemProjectHeader(a);t.appendChild(r)}),0<$(".CartList").length&&(t=this.cartItemProjectPage(a),$(".CartList")[0].appendChild(t))}else{var e="<p>Não há itens no carrinho!</p>";$(".HeaderCartList").html(e),$(".CartList").html(e)}}cartItemProjectHeader(e){var t,r=document.createElement("div");r.classList.add("CartItem");let a=0;return a=e.is_discount?(t=e.price*e.discount_percent/100,e.price-t):e.price,r.innerHTML=`
      <div class="CartItem__image">
        <img src="${e.cover}" alt="">
      </div>

      <div class="CartItem__info">
        <div class="CartItem__info_title">
          <p>${e.title}</p>
        </div>

        <div class="CartItem__info_price">
          <p>R$ ${convertInBRL(a)}</p>
        </div>
      </div>
    `,r}cartItemProjectPage(e){var t,r=document.createElement("div");r.classList.add("CartItem");let a=0;return a=e.is_discount?(t=e.price*e.discount_percent/100,e.price-t):e.price,r.innerHTML=`
      <div class="CartItem__image">
        <img src="${e.cover}" alt="">
      </div>

      <div class="CartItem__info">
        <div class="CartItem__info_title">
          <p>${e.title}</p>
        </div>

        <div class="CartItem__info_text">
          <p>${e.short_description}</p>
        </div>

        <div class="CartItem__info_price">
          <p>R$ ${convertInBRL(a)}${e.is_discount?` <span>${e.discount_percent}% Desconto</span>`:""}</p>
        </div>
      </div>

      <div class="CartItem__actions"></div>
    `,$(r).find(".CartItem__actions")[0].appendChild(this.renderButtonCartPage()),$(r).find(".CartItem__actions button").on("click",()=>this.removeProject(e)),r}renderButtonCartPage(){var e=document.createElement("button");return e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\x3c!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--\x3e<path d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"/></svg>',e}}$(function(){const r=["name","email","password"],t=["email","password"],a=["error-sign-up-name","error-sign-up-email","error-sign-up-password"],o=["error-sign-in-email","error-sign-in-password"],n={error:!1,label:""},i={name:(e="")=>{var t={...n};return(e.length<3||100<e.length)&&(t.error=!0,t.label="Nome precisa ter entre 3 a 100 caracteres!"),t},email:(e="")=>{var t={...n};return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)||(t.error=!0,t.label="E-mail inválido!"),0===e.trim().length&&(t.error=!0,t.label="Preencha o campo de email!"),t},password:(e="")=>{var t={...n};return(e.length<8||12<e.length)&&(t.error=!0,t.label="Senha precisa ter entre 8 a 12 caracteres!"),t}};function s(e,t){var r=new FormData;r.append("email",e),r.append("password",t),$.ajax({url:BASE_URL+"conta/logar",type:"post",data:r,contentType:!1,processData:!1,dataType:"json",success:e=>{var t=localStorage.getItem(GO_CHECKOUT_STORAGE);e.error?console.error(e.error):(localStorage.removeItem(GO_CHECKOUT_STORAGE),window.location.href=BASE_URL+(t?"carrinho":""))}})}$("#sign-up-form").on("submit",function(e){if(e.preventDefault(),validateForm(this,r,i,a)){const t=new FormData(this);$.ajax({url:BASE_URL+"conta/criar_conta",type:"post",data:t,contentType:!1,processData:!1,dataType:"json",success:e=>{e.error?console.error(e.error):s(t.get("email"),t.get("password"))}})}}),$("#sign-in-form").on("submit",function(e){e.preventDefault(),validateForm(this,t,i,o)&&s($("#sign-in-email").val(),$("#sign-in-password").val())})}),$(function(){(new Cart).init(),$("#buy-projects").on("click",function(){$.ajax({url:BASE_URL+"carrinho/comprar",method:"POST",dataType:"json",success:e=>{e.error?(localStorage.setItem(GO_CHECKOUT_STORAGE,"true"),window.location.href=BASE_URL+"conta"):window.location.href=BASE_URL+"checkout"}})})}),$(function(){if(-1<window.location.href.indexOf("checkout")){const l=new Cart;l.init();var e=new MercadoPago("TEST-06def6ed-a6ab-4458-8fc5-e85fc9561e8e");0===l.cart.length&&(window.location.href=BASE_URL+"carrinho");const d=e.cardForm({amount:""+l.total_value,iframe:!1,form:{id:"form-checkout",cardNumber:{id:"form-checkout__cardNumber",placeholder:"Número do cartão"},expirationDate:{id:"form-checkout__expirationDate",placeholder:"MM/YY"},securityCode:{id:"form-checkout__securityCode",placeholder:"Código de segurança"},cardholderName:{id:"form-checkout__cardholderName",placeholder:"Titular do cartão"},issuer:{id:"form-checkout__issuer",placeholder:"Banco emissor"},installments:{id:"form-checkout__installments",placeholder:"Parcelas"},identificationType:{id:"form-checkout__identificationType",placeholder:"Tipo de documento"},identificationNumber:{id:"form-checkout__identificationNumber",placeholder:"Número do documento"},cardholderEmail:{id:"form-checkout__cardholderEmail",placeholder:"E-mail"}},callbacks:{onFormMounted:e=>{if(e)return console.warn("Form Mounted handling error: ",e);console.log("Form mounted")},onSubmit:e=>{e.preventDefault();var{paymentMethodId:e,issuerId:t,cardholderEmail:r,amount:a,token:o,installments:n,identificationNumber:i,identificationType:s}=d.getCardFormData(),c=new FormData;c.append("token",o),c.append("issuer_id",t),c.append("payment_method_id",e),c.append("transaction_amount",Number(a)),c.append("installments",Number(n)),c.append("description","Compra de Projetos em Engenharia"),c.append("email",r),c.append("type",s),c.append("number",i),c.append("cart",l.getJSONCart()),$.ajax({url:BASE_URL+"checkout/process_payment",method:"POST",data:c,contentType:!1,processData:!1,dataType:"json",success:e=>{e.status&&(l.clearCart(),window.location.href=BASE_URL+"meu_perfil?tab=historic")}})},onFetching:e=>(console.log("Fetching resource: ",e),()=>{})}})}}),$(function(){$(".ContactFaqItem .ContactFaqItem__button").on("click",function(){var e=$(this).parent(),t="ContactFaqItem--active";e.hasClass(t)?(e.removeClass(t),e.find(".ContactFaqItem__content").css("height","0")):($(".ContactFaqItem").removeClass(t),$(".ContactFaqItem__content").css("height","0"),e.addClass(t),e.find(".ContactFaqItem__content").css("height",e.find(".ContactFaqItem__content_body").height()+40+"px"))})}),$(function(){}),$(function(){const t=["name","email","password"],r=["error-user-name","error-user-email","error-user-password"],a={error:!1,label:""},o={name:(e="")=>{var t={...a};return(e.length<3||100<e.length)&&(t.error=!0,t.label="Nome precisa ter entre 3 a 100 caracteres!"),t},email:(e="")=>{var t={...a};return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)||(t.error=!0,t.label="E-mail inválido!"),0===e.trim().length&&(t.error=!0,t.label="Preencha o campo de email!"),t},password:(e="")=>{var t={...a};return(e.length<8||12<e.length)&&(t.error=!0,t.label="Senha precisa ter entre 8 a 12 caracteres!"),t}};$("#tab-box-my-profile .MyProfileTabBox__tabs button").on("click",function(){var e=$(this).attr("data-tab"),t="active-tab";$("#tab-box-my-profile .MyProfileTabBox__tabs button").removeClass(t),$("#tab-box-my-profile .MyProfileTabBox__content_item").removeClass(t),$(`#tab-box-my-profile div[data-tab-name="${e}"]`).addClass(t),$(this).addClass(t),history.pushState(null,null,BASE_URL+"meu_perfil?tab="+e)}),$("#profile-form").on("submit",function(e){e.preventDefault();e=clearInputs(this,t,o,r);e&&$.ajax({url:BASE_URL+"meu_perfil/editar_perfil",type:"post",data:e,contentType:!1,processData:!1,dataType:"json",success:function(e){e.error||(window.location.href=BASE_URL+"meu_perfil")}})})}),$(function(){$("#slick-portfolio-feedbacks").slick({infinity:!0,dots:!0,slidesToShow:3,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3,responsive:[{breakpoint:1024,settings:{slidesToShow:2}},{breakpoint:450,settings:{slidesToShow:1}}]})}),$(function(){const t=new Cart,r=(t.init(),$("#add-cart").attr("data-slug"));t.cart.find(e=>e.slug===r)?($("#add-cart").text("Ver no Carrinho"),$("#add-cart").on("click",function(){window.location.href=BASE_URL+"carrinho"})):$("#add-cart").on("click",function(){$.ajax({url:BASE_URL+"projetos/project?slug="+r,dataType:"json",success:e=>{t.pushProject(e.data),$("#add-cart").text("Ver no Carrinho"),$("#add-cart").on("click",function(){window.location.href=BASE_URL+"carrinho"})}})}),$("#slick-product-images").slick({infinite:!1,slidesToShow:1,slidesToScroll:1,arrows:!0}),$("#dots-product").slick({slidesToShow:5,slidesToScroll:1,infinite:!1,asNavFor:"#slick-product-images",focusOnSelect:!0})}),$(function(){var e=window.location.href;if(-1<e.indexOf("projetos")&&-1===e.indexOf("admin")){const s={current_page:1};let r="",n={...s};i(),$("#button-filter-projects").on("click",function(){var e=$("#projects-filter-area"),t="ProjectsContent__filter--active",r="Button--active-filter";e.hasClass(t)?(e.removeClass(t),$(this).removeClass(r)):(e.addClass(t),$(this).addClass(r))}),$("#projects-filter-area").on("mouseleave",function(){$(this).removeClass("ProjectsContent__filter--active"),$("#button-filter-projects").removeClass("Button--active-filter")});const c=["square_meters","bathrooms","bedrooms","garages","min","max"],l={error:!1,label:""},d=(e="",t)=>{var r={...l};return isNaN(e.replace(",","."))||0!==parseInt(e.replace(",","."))||(r.error=!0,r.label=t+" precisa ser maior que 0!"),isNaN(e.replace(",","."))&&(r.error=!0,r.label=t+" precisa ser um número!"),""===e.trim()&&(r.error=!0,r.label=t+" precisa ser preenchido!"),r},p={square_meters:(e="")=>d(e,"Metros Quadrados"),bathrooms:(e="")=>d(e,"Banheiros"),bedrooms:(e="")=>d(e,"Quartos"),garages:(e="")=>d(e,"Garagens"),min:(e="")=>d(e,"Preço Mínimo"),max:(e="")=>d(e,"Preoço Máximo")};function t(){const t=clearInputs($("#projects-filter")[0],c,p);var e;t&&(n={...s},c.forEach(e=>{t.get(e)&&(n[e]=t.get(e))}),0<Object.keys(n).length||""!==r)&&0===$(".ProjectsContentFilter__inputs--clear").length&&((e=document.createElement("button")).classList.add("ProjectsContentFilter__inputs--clear"),e.innerHTML="Limpar filtros",e.type="button",e.addEventListener("click",a),$(".ProjectsContentFilter__inputs")[0].appendChild(e))}function a(){r="",n={...s},i(),$("#search").val(""),c.forEach(e=>$('input[name="'+e+'"]').val("")),$(this)[0].remove()}function o(){r=$("#search").val()}function i(){$.ajax({url:BASE_URL+("projetos/list?search="+r),data:{...n},dataType:"json",success:e=>{var t;if(!e.error&&0<e.data.length){t=e.data,0<$(".ProjectsContent__products_list").length&&($(".ProjectsContent__products_list").html(""),t.forEach(e=>$(".ProjectsContent__products_list")[0].appendChild(function(e){var t=document.createElement("a");t.classList.add("Project"),t.href=BASE_URL+"projetos/produto/"+e.slug;let r=null;e.is_discount&&(r=e.price*e.discount_percent/100,r=e.price-r);return t.innerHTML=`
        <div class="Project__image">
          <img src="${e.cover}" alt="">

          ${1===e.is_discount&&`
            <div class="Project__image_discount">
              <p>${e.discount_percent}% de desconto!</p>
            </div>
          `}

          <div class="Project__image_price">
            ${r?`
              <p><strike>R$ ${e.price.toFixed(2).replace(".",",")}</strike> R$ ${r.toFixed(2).replace(".",",")}</p>
            `:`
              <p>R$ ${e.price.toFixed(2).replace(".",",")}</p>
            `}
          </div>
        </div>

        <div class="Project__info">
          <div class="Project__info_title">
            <p>${e.title}</p>
          </div>

          <div class="Project__info_text">
            <p>${e.short_description}</p>
          </div>
          
          <div class="Project__info_data">
            <div>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V352zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H320zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V352z"/></svg>
              <p>${e.square_meters.toString().replace(".",",")}m²</p>
            </div>

            <div>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M64 131.9C64 112.1 80.1 96 99.9 96c9.5 0 18.6 3.8 25.4 10.5l16.2 16.2c-21 38.9-17.4 87.5 10.9 123L151 247c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0L345 121c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-1.3 1.3c-35.5-28.3-84.2-31.9-123-10.9L170.5 61.3C151.8 42.5 126.4 32 99.9 32C44.7 32 0 76.7 0 131.9V448c0 17.7 14.3 32 32 32s32-14.3 32-32V131.9zM256 352a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm64 64a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm0-128a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm64 64a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm0-128a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm64 64a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm32-32a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"/></svg>
              <p>${e.bathrooms}</p>
            </div>

            <div>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M32 32c17.7 0 32 14.3 32 32V320H288V160c0-17.7 14.3-32 32-32H544c53 0 96 43 96 96V448c0 17.7-14.3 32-32 32s-32-14.3-32-32V416H352 320 64v32c0 17.7-14.3 32-32 32s-32-14.3-32-32V64C0 46.3 14.3 32 32 32zm144 96a80 80 0 1 1 0 160 80 80 0 1 1 0-160z"/></svg>
              <p>${e.bedrooms}</p>
            </div>

            <div>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M135.2 117.4L109.1 192H402.9l-26.1-74.6C372.3 104.6 360.2 96 346.6 96H165.4c-13.6 0-25.7 8.6-30.2 21.4zM39.6 196.8L74.8 96.3C88.3 57.8 124.6 32 165.4 32H346.6c40.8 0 77.1 25.8 90.6 64.3l35.2 100.5c23.2 9.6 39.6 32.5 39.6 59.2V400v48c0 17.7-14.3 32-32 32H448c-17.7 0-32-14.3-32-32V400H96v48c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V400 256c0-26.7 16.4-49.6 39.6-59.2zM128 288a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm288 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"/></svg>
              <p>${e.garages}</p>
            </div>
          </div>

          <div class="Project__info_button">
            <button class="Button">Ver Produto</button>
          </div>
        </div>
      `,t}(e))));var r,a=e;if($("#pages-qtd").text("+"+a.qtd_projects),0<$("#list-pages").length){$("#list-pages").html("");for(let e=a.current_page;e<a.current_page+3;e++){const o=e-1;0==o||o>a.qtd_pages||((r=document.createElement("li")).innerHTML=`<p>${o<10?"0"+o:o}</p>`,r.onclick=function(){n.current_page=o,i()},a.current_page===o&&r.classList.add("active-dot"),$("#list-pages")[0].appendChild(r))}}}}})}$("#projects-filter").on("submit",function(e){e.preventDefault(),t(),o(),i()}),$("#search-button").on("click",function(){o(),t(),i()})}}),$(function(){if(-1<window.location.href.indexOf("/admin/faq/form")){ClassicEditor.create($("#response")[0]).catch(e=>{console.error(e)});const r=["question","response"],a={error:!1,label:""},o={question:(e="")=>{var t={...a};return(e.length<3||255<e.length)&&(t.error=!0,t.label="Nome precisa ter entre 3 a 255 caracteres!"),t},response:(e="")=>{var t={...a};return""===e.trim()&&(t.error=!0,t.label="Pequena descrição precisa ser preenchido!"),t}};$("#faq-form").on("submit",function(e){e.preventDefault();const t="Adicionar"===$(".AdmHeaderPage__title h1").html();t&&!validateForm(this,r,o)||(e=t?new FormData(this):clearInputs(this,r,o))&&$.ajax({url:BASE_URL+("admin/faq/"+(t?"add":"edit")),type:"post",data:e,contentType:!1,processData:!1,dataType:"json",success:function(e){e.status&&t?window.location.href=BASE_URL+"admin/faq":e.status&&e.return.path&&$("#text-cover").html(e.return.path)}})})}}),$(function(){var e=window.location.href;-1<e.indexOf("/admin/faq")&&-1===e.indexOf("/admin/faq/form")&&$("#faq-table").DataTable({ajax:BASE_URL+"admin/faq/list",processing:!0,serverSide:!0,language:{url:"https://cdn.datatables.net/plug-ins/2.0.7/i18n/pt-BR.json"}})}),$(function(){if(-1<window.location.href.indexOf("/admin/feedbacks/form")){ClassicEditor.create($("#short_description")[0]).catch(e=>{console.error(e)});const r=["cover","name","assessment","short_description"],a={error:!1,label:""},o={cover:(e="")=>{var t={...a};return 25e5<e.size&&(t.error=!0,t.label="A imagem tem que ser abaixo de 2,5mb!"),["image/png","image/jpg","image/jpeg"].includes(e.type)||(t.error=!0,t.label="O arquivo tem que ser uma imagem (png, jpg ou jpeg)!"),""===e.name&&(t.error=!0,t.label="Selecione um arquivo!"),t},name:(e="")=>{var t={...a};return(e.length<3||100<e.length)&&(t.error=!0,t.label="Nome precisa ter entre 3 a 100 caracteres!"),t},assessment:(e="")=>{var t={...a};return e=e.replace(",","."),!isNaN(e)&&(5<parseInt(e)||parseInt(e)<0)&&(t.error=!0,t.label="Avaliação precisa ser entre 0 e 5!"),isNaN(e)&&(t.error=!0,t.label="Avaliação precisa ser um número!"),""===e.trim()&&(t.error=!0,t.label="Avaliação precisa ser preenchido!"),t},short_description:(e="")=>{var t={...a};return""===e.trim()&&(t.error=!0,t.label="Pequena descrição precisa ser preenchido!"),t}};$("#feedbacks-form").on("submit",function(e){e.preventDefault();const t="Adicionar"===$(".AdmHeaderPage__title h1").html();t&&!validateForm(this,r,o)||(e=t?new FormData(this):clearInputs(this,r,o))&&$.ajax({url:BASE_URL+("admin/feedbacks/"+(t?"add":"edit")),type:"post",data:e,contentType:!1,processData:!1,dataType:"json",success:function(e){console.log("ok"),e.status&&t?window.location.href=BASE_URL+"admin/feedbacks":e.status&&e.return.path&&$("#text-cover").html(e.return.path)}})})}}),$(function(){var e=window.location.href;-1<e.indexOf("/admin/feedbacks")&&-1===e.indexOf("/admin/feedbacks/form")&&$("#feedbacks-table").DataTable({ajax:BASE_URL+"admin/feedbacks/list",processing:!0,serverSide:!0,language:{url:"https://cdn.datatables.net/plug-ins/2.0.7/i18n/pt-BR.json"}})}),$(function(){var e=window.location.href;if(-1<e.indexOf("admin/account")&&-1===e.indexOf("admin/account/sign_in")){const t=["name","email","password"],r={error:!1,label:""},a={name:(e="")=>{var t={...r};return(e.length<3||100<e.length)&&(t.error=!0,t.label="Nome precisa ter entre 3 a 100 caracteres!"),t},email:(e="")=>{var t={...r};return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)||(t.error=!0,t.label="E-mail inválido!"),0===e.trim().length&&(t.error=!0,t.label="Preencha o campo de email!"),t},password:(e="")=>{var t={...r};return(e.length<8||12<e.length)&&(t.error=!0,t.label="Senha precisa ter entre 8 a 12 caracteres!"),t}};$("#my-profile-form").on("submit",function(e){e.preventDefault();e=clearInputs(this,t,a);console.log(e),$.ajax({url:BASE_URL+"admin/users/edit",type:"post",data:e,contentType:!1,processData:!1})})}}),$(function(){var e=window.location.href;-1<e.indexOf("/admin/payments")&&-1===e.indexOf("/admin/payments/view")&&$("#payments-table").DataTable({ajax:BASE_URL+"admin/payments/list",processing:!0,serverSide:!0,language:{url:"https://cdn.datatables.net/plug-ins/2.0.7/i18n/pt-BR.json"}})}),$(function(){if(-1<window.location.href.indexOf("/admin/posts_instagram/form")){const r=["cover","link"],a={error:!1,label:""},o={cover:(e="")=>{var t={...a};return 25e5<e.size&&(t.error=!0,t.label="A imagem tem que ser abaixo de 2,5mb!"),["image/png","image/jpg","image/jpeg"].includes(e.type)||(t.error=!0,t.label="O arquivo tem que ser uma imagem (png, jpg ou jpeg)!"),""===e.name&&(t.error=!0,t.label="Selecione um arquivo!"),t},link:(e="")=>{var t={...a};return(e.length<3||255<e.length)&&(t.error=!0,t.label="Nome precisa ter entre 3 a 255 caracteres!"),t}};$("#posts-instagram-form").on("submit",function(e){e.preventDefault();const t="Adicionar"===$(".AdmHeaderPage__title h1").html();t&&!validateForm(this,r,o)||(e=t?new FormData(this):clearInputs(this,r,o))&&$.ajax({url:BASE_URL+("admin/posts_instagram/"+(t?"add":"edit")),type:"post",data:e,contentType:!1,processData:!1,dataType:"json",success:function(e){e.status&&t?window.location.href=BASE_URL+"admin/posts_instagram":e.status&&e.return.path&&$(".form-text").html(e.return.path)}})})}}),$(function(){var e=window.location.href;-1<e.indexOf("/admin/posts_instagram")&&-1===e.indexOf("/admin/posts_instagram/form")&&$("#posts-instagram-table").DataTable({ajax:BASE_URL+"admin/posts_instagram/list",processing:!0,serverSide:!0,language:{url:"https://cdn.datatables.net/plug-ins/2.0.7/i18n/pt-BR.json"}})}),$(function(){if(-1<window.location.href.indexOf("/admin/projects/form")){ClassicEditor.create($("#description")[0]).catch(e=>{console.error(e)});const o=["cover","carousel[]","title","slug","price","discount_percent","short_description","description","square_meters","bathrooms","bedrooms","garages","files_projects[]"],n={error:!1,label:""},t=(e="",t)=>{var r={...n};return isNaN(e.replace(",","."))||0!==parseInt(e.replace(",","."))||(r.error=!0,r.label=t+" precisa ser maior que 0!"),isNaN(e.replace(",","."))&&(r.error=!0,r.label=t+" precisa ser um número!"),""===e.trim()&&(r.error=!0,r.label=t+" precisa ser preenchido!"),r},i={cover:(e="")=>{var t={...n};return 25e5<e.size&&(t.error=!0,t.label="A imagem tem que ser abaixo de 2,5mb!"),["image/png","image/jpg","image/jpeg"].includes(e.type)||(t.error=!0,t.label="O arquivo tem que ser uma imagem (png, jpg ou jpeg)!"),""===e.name&&(t.error=!0,t.label="Selecione um arquivo!"),t},"carousel[]":(e="",t)=>{var r={...n},a=["image/png","image/jpg","image/jpeg"];for(let e=0;e<t.files.length;e++){var o=t.files[e];25e5<o.size&&(r.error=!0,r.label="As imagens tem que ser abaixo de 2,5mb!"),a.includes(o.type)||(r.error=!0,r.label="Uma das imagens é inválido (png, jpg ou jpeg)!")}return""===e.name&&(r.error=!0,r.label="Selecione um arquivo!"),r},title:(e="")=>{var t={...n};return(e.length<3||100<e.length)&&(t.error=!0,t.label="Título precisa ter entre 3 a 100 caracteres!"),t},slug:(e=0)=>{return{...n}},price:(e="")=>{var t={...n};return isNaN(e.replace(",","."))&&(t.error=!0,t.label="Preço precisa ser um número!"),""===e.trim()&&(t.error=!0,t.label="Preço precisa ser preenchido!"),t},discount_percent:(e="")=>{var t={...n};return!isNaN(e.replace(",","."))&&(parseInt(e.replace(",","."))<0||100<parseInt(e.replace(",",".")))&&(t.error=!0,t.label="Desconto precisa estar entre 0 e 100!"),isNaN(e.replace(",","."))&&(t.error=!0,t.label="Desconto precisa ser um número!"),""===e.trim()&&(t.error=!0,t.label="Desconto precisa ser preenchido!"),t},short_description:(e="")=>{var t={...n};return""===e.trim()&&(t.error=!0,t.label="Pequena descrição precisa ser preenchido!"),t},description:(e="")=>{var t={...n};return""===e.trim()&&(t.error=!0,t.label="Descrição precisa ser preenchido!"),t},square_meters:(e="")=>t(e,"Metros Quadrados"),bathrooms:(e="")=>t(e,"Banheiros"),bedrooms:(e="")=>t(e,"Quartos"),garages:(e="")=>t(e,"Garagens"),"files_projects[]":(e="",t)=>{var r={...n},a=["image/png","image/jpg","image/jpeg","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/pdf","application/x-zip-compressed"];for(let e=0;e<t.files.length;e++){var o=t.files[e];5e6<o.size&&(r.error=!0,r.label="As imagens tem que ser abaixo de 5mb!"),a.includes(o.type)||(r.error=!0,r.label="Uma das imagens é inválido (png, jpg, jpeg, pdf, document office ou zip)!")}return""===e.name&&(r.error=!0,r.label="Selecione um arquivo!"),r}};function e(){var e=$("#is_discount")[0].checked,t=parseInt($("#price").val().replace(",",".")),r=parseInt($("#discount_percent").val().replace(",","."));t&&r&&e?(t-=e=t*r/100,$(".discount-show").text("Total do desconto R$"+convertInBRL(e)),$(".total-value-show").text("Valor total R$"+convertInBRL(t))):($(".total-value-show").text("Valor total R$0,00"),$(".discount-show").text("Total do desconto R$0,00"))}function a(e,t,r){var a=document.createElement("div");return a.classList.add("form-text","d-flex","justify-content-between"),a.innerHTML=`
        ${e}
        <a href="${BASE_URL}admin/projects/delete_carousel/${btoa(r)}?ip=${t}" class="text-danger">x</a>
      `,a}$("#projects-form").on("submit",function(e){e.preventDefault();const t="Adicionar"===$(".AdmHeaderPage__title h1").html();if(!t||validateForm(this,o,i)){const r=t?new FormData(this):clearInputs(this,o,i);r&&$.ajax({url:BASE_URL+("admin/projects/"+(t?"add":"edit")),type:"post",data:r,contentType:!1,processData:!1,dataType:"json",success:function(e){e.status&&t?window.location.href=BASE_URL+"admin/projects":e.status&&!t&&(e.return.project.carousel&&e.return.project.carousel.forEach(e=>{e=a(e.file,r.get("ip"),e.id);$("#files-carousel")[0].appendChild(e)}),e.return.project.files)&&e.return.project.files.forEach(e=>{e=a(e.file,r.get("ip"),e.id);$("#files-projects")[0].appendChild(e)})}})}}),$("#price").on("blur",e),$("#discount_percent").on("blur",e),$("#is_discount").on("blur",e),$("#title").on("keyup",function(e){let t=e.target.value;t=(t=(t=(t=t.replace(/\s+/g,"-")).normalize("NFD").replace(/[\u0300-\u036f]/g,"")).replace(/[^a-zA-Z0-9-]/g,"")).toLowerCase(),$("#slug").val(t)})}}),$(function(){var e=window.location.href;-1<e.indexOf("/admin/projects")&&-1===e.indexOf("/admin/projects/form")&&$("#projects-table").DataTable({ajax:BASE_URL+"admin/projects/list",processing:!0,serverSide:!0,language:{url:"https://cdn.datatables.net/plug-ins/2.0.7/i18n/pt-BR.json"}})}),$(function(){if(-1<window.location.href.indexOf("/admin/account/sign_in")){const t=["email","password"],r={error:!1,label:""},a={email:(e="")=>{var t={...r};return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)||(t.error=!0,t.label="E-mail inválido!"),0===e.trim().length&&(t.error=!0,t.label="Preencha o campo de email!"),t},password:(e="")=>{var t={...r};return(e.length<8||12<e.length)&&(t.error=!0,t.label="Senha precisa ter entre 8 a 12 caracteres!"),t}};$("#sign-in-form").on("submit",function(e){e.preventDefault(),validateForm(this,t,a)&&(e=new FormData(this),$.ajax({url:BASE_URL+"admin/account/login",type:"post",data:e,contentType:!1,processData:!1,dataType:"json",success:function(e){e.status&&(window.location.href=BASE_URL+"admin/")}}))})}}),$(function(){if(-1<window.location.href.indexOf("/admin/team/form")){const r=["photo","name","profession"],a={error:!1,label:""},o={photo:(e="")=>{var t={...a};return 25e5<e.size&&(t.error=!0,t.label="A imagem tem que ser abaixo de 2,5mb!"),["image/png","image/jpg","image/jpeg"].includes(e.type)||(t.error=!0,t.label="O arquivo tem que ser uma imagem (png, jpg ou jpeg)!"),""===e.name&&(t.error=!0,t.label="Selecione um arquivo!"),t},name:(e="")=>{var t={...a};return(e.length<3||100<e.length)&&(t.error=!0,t.label="Nome precisa ter entre 3 a 100 caracteres!"),t},profession:(e="")=>{var t={...a};return(e.length<3||100<e.length)&&(t.error=!0,t.label="Profissão precisa ter entre 3 a 100 caracteres!"),t}};$("#team-form").on("submit",function(e){e.preventDefault();const t="Adicionar"===$(".AdmHeaderPage__title h1").html();t&&!validateForm(this,r,o)||(e=t?new FormData(this):clearInputs(this,r,o))&&$.ajax({url:BASE_URL+("admin/team/"+(t?"add":"edit")),type:"post",data:e,contentType:!1,processData:!1,dataType:"json",success:function(e){e.status&&t?window.location.href=BASE_URL+"admin/team":e.status&&e.return.path&&$(".form-text").html(e.return.path)}})})}}),$(function(){var e=window.location.href;-1<e.indexOf("/admin/team")&&-1===e.indexOf("/admin/team/form")&&$("#team-table").DataTable({ajax:BASE_URL+"admin/team/list",processing:!0,serverSide:!0,language:{url:"https://cdn.datatables.net/plug-ins/2.0.7/i18n/pt-BR.json"}})}),$(function(){if(-1<window.location.href.indexOf("/admin/users/form")){const r=["name","email","password","user_type"],a={error:!1,label:""},o={name:(e="")=>{var t={...a};return(e.length<3||100<e.length)&&(t.error=!0,t.label="Nome precisa ter entre 3 a 100 caracteres!"),t},email:(e="")=>{var t={...a};return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)||(t.error=!0,t.label="E-mail inválido!"),0===e.trim().length&&(t.error=!0,t.label="Preencha o campo de email!"),t},password:(e="")=>{var t={...a};return(e.length<8||12<e.length)&&(t.error=!0,t.label="Senha precisa ter entre 8 a 12 caracteres!"),t},user_type:(e="")=>{var t={...a};return"null"===e&&(t.error=!0,t.label="Informe o tipo de usuário!"),t}};$("#users-form").on("submit",function(e){e.preventDefault();const t="Adicionar"===$(".AdmHeaderPage__title h1").html();t&&!validateForm(this,r,o)||(e=t?new FormData(this):clearInputs(this,r,o))&&$.ajax({url:BASE_URL+("admin/users/"+(t?"add":"edit")),type:"post",data:e,contentType:!1,processData:!1,dataType:"json",success:function(e){e.status&&t&&(window.location.href=BASE_URL+"admin/users")}})})}}),$(function(){var e=window.location.href;-1<e.indexOf("/admin/users")&&-1===e.indexOf("/admin/users/form")&&$("#users-table").DataTable({ajax:BASE_URL+"admin/users/list",processing:!0,serverSide:!0,language:{url:"https://cdn.datatables.net/plug-ins/2.0.7/i18n/pt-BR.json"}})});